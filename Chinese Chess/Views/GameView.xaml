<Window x:Name="Root" x:Class="Chinese_Chess.Views.GameView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      Title="GameView" Width="993" Height="649">

    <Grid x:Name="MainLayout" Margin="0,0,0,-24">
        <Grid.Background>
            <ImageBrush ImageSource="/Assets/Background/japanese.jpg"/>
        </Grid.Background>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="656"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid x:Name="BoardLayout" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,0,0,20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50*"/>
                <ColumnDefinition Width="943*"/>
            </Grid.ColumnDefinitions>
            <Image x:Name="BoardImage"
                   Source="/Assets/XiangquiBoard.png"
                   Stretch="Uniform"
                   Width="530"
                   Height="587"
                   HorizontalAlignment="Left"
                   VerticalAlignment="Top" Margin="0,36,0,0" Grid.Column="1"/>
            <Label x:Name="GameTimerLabel" Content="00:00" Grid.Column="1" Margin="234,0,647,617" FontSize="20" HorizontalAlignment="Center"/>
            <Canvas x:Name="BoardCanvas" Margin="0,36,413,36" Grid.Column="1"/>
            <StackPanel x:Name="ControlBarPanel" Grid.Column="1" Margin="19,617,0,-20" Orientation="Horizontal" HorizontalAlignment="Left">

                <Button x:Name="Backward" Margin="10,0,10,0" Width="62" Background="{x:Null}" BorderBrush="{x:Null}">
                    <Image x:Name="Backward_icon" Height="30" Width="30" Source="/Assets/Button/backward1.png"/>
                </Button>

                <Button x:Name="Pause" Margin="10,0,10,0" Width="62" Background="{x:Null}" BorderBrush="{x:Null}">
                    <Image x:Name="Pause_icon" Height="28" Width="30" Source="/Assets/Button/pause1.png"/>
                </Button>

                <Button x:Name="Forward" Margin="10,0,10,0" Width="62" Background="{x:Null}" BorderBrush="{x:Null}">
                    <Image x:Name="Forward_icon" Height="30" Width="30" Source="/Assets/Button/backward1.png" RenderTransformOrigin="0.5,0.5">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="-1"/>
                                <SkewTransform/>
                                <RotateTransform/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>
                </Button>

                <Button x:Name="New_Game" Margin="10,0,10,0" Width="62" Background="{x:Null}" BorderBrush="{x:Null}">
                    <Image x:Name="Renew_icon" Height="29" Width="30" Source="/Assets/Button/renew1.png"/>
                </Button>

                <Button x:Name="Draw_offer" Margin="10,0,10,0" Width="62" Background="{x:Null}" BorderBrush="{x:Null}">
                    <Image x:Name="Draw_icon" Height="30" Width="30" Source="/Assets/Button/draw3.png"/>
                </Button>

                <Button x:Name="Surrender" Margin="10,0,10,0" Width="62" Background="{x:Null}" BorderBrush="{x:Null}">
                    <Image Height="30" Width="30" Source="/Assets/Button/surrender2.png"/>
                </Button>
            </StackPanel>
        </Grid>
        <Grid x:Name="Side" Grid.Column="1">
            <StackPanel x:Name="SidePanel" Grid.Column="1">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">

                    <Button x:Name="MuteButton" Width="40" Height="40"
                        Background="Transparent" BorderThickness="0" Cursor="Hand" Click="MuteButton_Click" HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Image x:Name="SoundIcon" Source="/Assets/Button/sound_on.png" Width="30" Height="30"/>
                    </Button>
                    <Button x:Name="Settings" Width="40" Height="40" 
                        Background="Transparent" BorderThickness="0" Cursor="Hand" Click="Settings_Click">
                        <Image Source="/Assets/Button/setting.png" Width="30"/>
                    </Button>
                </StackPanel>
                <Border x:Name="Player1Card" Height="164" Margin="10,10,40,10" 
                    Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="10">

                    <Grid x:Name="Player1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="61*"/>
                            <RowDefinition Height="22*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="110*"/>
                            <ColumnDefinition Width="177*"/>
                        </Grid.ColumnDefinitions>

                        <Image x:Name="Player1_avatar" Height="100" Width="100" Margin="5"/>
                        <TextBlock x:Name="Player1_name" TextWrapping="Wrap" Text="Bot hard" Grid.Column="1" Margin="10,10,10,0" FontWeight="Bold" FontSize="16"/>
                        <TextBlock x:Name="Player1_elo" TextWrapping="Wrap" Text="Elo: 2800" Grid.Column="1" Margin="10,40,10,0" Foreground="Gray"/>

                        <WrapPanel x:Name="P1CapturedList" Grid.Row="1" Grid.ColumnSpan="2" Margin="10,0,0,0">
                            <TextBlock Text="Đã ăn: " VerticalAlignment="Center" Foreground="Silver"/>
                        </WrapPanel>
                    </Grid>
                </Border>

                <Border x:Name="ChatBoxCard" 
                    BorderBrush="Black" BorderThickness="1" 
                    Height="205" Width="288" Margin="0,0,30,0" 
                    CornerRadius="10" Background="White">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <ScrollViewer x:Name="ChatHistoryScroll" Grid.Row="0" VerticalScrollBarVisibility="Auto" Margin="10,10,10,0">
                            <TextBlock x:Name="ChatHistoryText" TextWrapping="Wrap" Text="System: Game started..." Foreground="Gray"/>
                        </ScrollViewer>

                        <Grid Grid.Row="1" Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBox x:Name="ChatInputBox" Height="30" VerticalContentAlignment="Center" Padding="5,0"/>

                            <Button x:Name="SendButton" Grid.Column="1" Width="30" Height="30" Margin="5,0,0,0" 
                                Background="Transparent" BorderThickness="0" Cursor="Hand">
                                <Image Source="/Assets/Button/send_icon.png"/>
                            </Button>
                        </Grid>
                    </Grid>
                </Border>

                <Border x:Name="Player2Card" Height="164" Margin="10,10,40,10" 
                    Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="10">

                    <Grid x:Name="Player2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="61*"/>
                            <RowDefinition Height="22*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="110*"/>
                            <ColumnDefinition Width="177*"/>
                        </Grid.ColumnDefinitions>

                        <Image x:Name="Player2_avatar" Height="100" Width="100" Margin="5"/>

                        <TextBlock x:Name="Player2_name" TextWrapping="Wrap" Text="s1mpleluv" Grid.Column="1" Margin="10,10,10,0" FontWeight="Bold" FontSize="16"/>
                        <TextBlock x:Name="Player2_elo" TextWrapping="Wrap" Text="Elo: 2800" Grid.Column="1" Margin="10,40,10,0" Foreground="Gray"/>

                        <WrapPanel x:Name="P2CapturedList" Grid.Row="1" Grid.ColumnSpan="2" Margin="10,0,0,0">
                            <TextBlock Text="Đã ăn: " VerticalAlignment="Center" Foreground="Silver"/>
                            <Image Source="/Assets/TextPiece/red_rook_text.png" Width="27" Margin="2"/>
                        </WrapPanel>
                    </Grid>
                </Border>
            </StackPanel>
            <TextBlock x:Name="RealTimeClock" 
                   Text="Loading..." 
                   FontSize="14" Foreground="#FFD91E1E" FontWeight="SemiBold"
                   HorizontalAlignment="Right" VerticalAlignment="Bottom"
                   Margin="0,0,10,10"/>
        </Grid>
    </Grid>
 </Window>
